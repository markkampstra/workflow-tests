---

name: Workflow4

on:
  push:
    branches: [test-branch2]
  release:
    types: [published]


jobs:
  job1:
    if: ${{ github.event.workflow_run.conclusion == 'success' }}
    runs-on: ubuntu-latest
    steps:
      - name: Step 1
        run: |
          echo "::notice file=workflow4.yaml::starting "
          sleep 10
          echo "::notice file=workflow4.yaml::This is step from Workflow4"

  on-failure:
    if: ${{ github.event.workflow_run.conclusion == 'failure' }}

    runs-on: ubuntu-latest
    steps:
      - run: echo '::error file=workflow4.yaml::The triggering workflow (Pull request) failed'

